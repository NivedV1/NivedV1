<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automatic Image Slideshow</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom styles for the overlay and positioning */
        .slider-container {
            position: relative;
            /* Using CSS variable to dynamically set the aspect ratio. Default is 16/9. */
            aspect-ratio: var(--slide-ratio, 16 / 9); 
            max-height: 80vh;
            /* Smooth transition for the container size change */
            transition: aspect-ratio 0.5s ease-in-out; 
        }

        /* Image styling for smooth transitions */
        .slide-image {
            /* Fade and slow zoom animation */
            transition: opacity 1s ease-in-out, transform 4s ease-in-out;
            opacity: 0;
            transform: scale(1.05); /* Start slightly zoomed for the 'zoom-out' effect */
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slide-image.active {
            opacity: 1;
            transform: scale(1.00); /* Zoom back to normal size over 4s */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Featured Destinations Gallery (Automatic)</h1>

        <!-- Slideshow Container -->
        <div id="slideshow" class="slider-container rounded-xl overflow-hidden shadow-2xl bg-gray-900">
            
            <!-- Slides (Dynamically populated by JS) -->
            <div id="slides-wrapper" class="w-full h-full relative">
                <!-- Image elements will be inserted here by JavaScript -->
            </div>

            <!-- Image Caption Overlay (Text) -->
            <div id="caption-overlay" class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/50 to-transparent text-white">
                <p id="slide-caption" class="text-xl font-semibold transition-opacity duration-700"></p>
            </div>

            <!-- NOTE: Navigation buttons and indicators have been removed -->
        </div>
    </div>

    <script>
        const SLIDES = [
            { url: './images/IMG_1231.jpg', caption: 'Image 1' },
            { url: './images/IMG_1232.jpg', caption: 'Image 2' },
            { url: './images/IMG_1233.jpg', caption: 'Image 3' },
            { url: './images/IMG_1234.jpg', caption: 'Image 4' },
            { url: './images/IMG_1235.jpg', caption: 'Image 5' },
            { url: './images/IMG_1236.jpg', caption: 'Image 6' },
            { url: './images/IMG_1237.jpg', caption: 'Image 7' },
            { url: './images/IMG_1238.jpg', caption: 'Image 8' },
            { url: './images/IMG_1239.jpg', caption: 'Image 9' },
            { url: './images/IMG_1240.jpg', caption: 'Image 10' },
            { url: './images/IMG_1241.jpg', caption: 'Image 11' },
            { url: './images/IMG_1242.jpg', caption: 'Image 12' },
            { url: './images/IMG_1243.jpg', caption: 'Image 13' },
            { url: './images/IMG_1244.jpg', caption: 'Image 14' },
            { url: './images/IMG_1245.jpg', caption: 'Image 15' },
            { url: './images/IMG_1246.jpg', caption: 'Image 16' },
            { url: './images/IMG_1247.jpg', caption: 'Image 17' },
            { url: './images/IMG_1248.jpg', caption: 'Image 18' },
            { url: './images/IMG_1249.jpg', caption: 'Image 19' },
            { url: './images/IMG_1250.jpg', caption: 'Image 20' },
            { url: './images/IMG_1251.jpg', caption: 'Image 21' }
        ];

        let currentSlideIndex = 0;
        let autoplayInterval;
        const intervalTime = 5000; // 5 seconds

        const slidesWrapper = document.getElementById('slides-wrapper');
        const captionElement = document.getElementById('slide-caption');
        const sliderContainer = document.getElementById('slideshow');

        /**
         * Renders the HTML for the slide images.
         */
        function renderSlides() {
            SLIDES.forEach((slide, index) => {
                // Create Image Element
                const img = document.createElement('img');
                img.src = slide.url;
                img.alt = slide.caption;
                img.classList.add('slide-image', 'absolute', 'inset-0');
                img.dataset.index = index;
                // Add a fallback for image loading errors
                img.onerror = function() {
                    console.error(`Error loading image: ${slide.url}`);
                    this.src = 'https://placehold.co/1280x720/6b7280/ffffff?text=Image+Missing';
                    // Use a default ratio if image fails to load
                    slide.ratio = 16 / 9; 
                };
                slidesWrapper.appendChild(img);
            });
        }

        /**
         * Updates the UI to show the specified slide with animation.
         * @param {number} index - The index of the slide to display.
         */
        function showSlide(index) {
            currentSlideIndex = (index + SLIDES.length) % SLIDES.length;

            const allImages = slidesWrapper.querySelectorAll('.slide-image');
            const activeSlide = SLIDES[currentSlideIndex];

            // 1. Dynamically update the container's aspect ratio (frame size)
            // The aspect-ratio is set to 16/9 if the ratio property is missing (e.g., if loading failed)
            sliderContainer.style.setProperty('--slide-ratio', `${activeSlide.ratio || (16 / 9)}`);

            // 2. Update Images and Animation
            allImages.forEach(img => {
                const isActive = parseInt(img.dataset.index) === currentSlideIndex;
                img.classList.remove('active');
                if (isActive) {
                    // Force a reflow before adding 'active' to ensure CSS transition runs
                    void img.offsetWidth; 
                    img.classList.add('active');
                }
            });

            // 3. Update Caption
            captionElement.style.opacity = '0'; // Start fade out
            setTimeout(() => {
                captionElement.textContent = activeSlide.caption;
                captionElement.style.opacity = '1'; // Fade back in
            }, 300); // Shorter delay than image transition for staggered effect
        }

        /**
         * Navigation function for the autoplay loop
         */
        function nextSlide() {
            showSlide(currentSlideIndex + 1);
        }

        /**
         * Autoplay control
         */
        function startAutoplay() {
            if (!autoplayInterval) {
                // Set interval to change slides automatically
                autoplayInterval = setInterval(nextSlide, intervalTime);
            }
        }

        /**
         * Preloads images and calculates their natural aspect ratio (width / height).
         * @returns {Promise<void>}
         */
        function loadImagesAndGetRatios() {
            const ratioPromises = SLIDES.map((slide) => {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => {
                        // Calculate and store ratio directly in the slide object
                        slide.ratio = img.naturalWidth / img.naturalHeight;
                        resolve();
                    };
                    img.onerror = () => {
                        // Fallback to a default ratio (16:9) if image fails to load
                        slide.ratio = 16 / 9; 
                        resolve();
                    };
                    img.src = slide.url;
                });
            });

            return Promise.all(ratioPromises);
        }


        /**
         * Initialization
         */
        function initSlider() {
            if (SLIDES.length === 0) return;

            // Wait for all image ratios to be calculated before starting the slideshow
            loadImagesAndGetRatios().then(() => {
                renderSlides();
                showSlide(currentSlideIndex);
                startAutoplay();
            });
        }

        window.onload = initSlider;
    </script>
</body>
</html> #hi
