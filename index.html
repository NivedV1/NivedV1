<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To My LoveðŸ’œ</title>
    
    <style>
        /* * GLOBAL STYLES & BACKGROUND
         * Equivalent to: font-sans bg-gradient-to-br from-gray-50 via-indigo-100 to-purple-200 min-h-screen
         */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 1rem; /* p-4 */
            background-image: linear-gradient(to bottom right, #f9fafb, #e0e7ff, #ddd6fe);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Desktop Padding */
        @media (min-width: 768px) {
            body {
                padding: 2rem; /* md:p-8 */
            }
        }

        /* * CONTAINER 
         * Equivalent to: max-w-4xl mx-auto
         */
        .container {
            max-width: 56rem; /* max-w-4xl */
            margin: 0 auto; /* mx-auto */
            width: 100%;
        }

        /* * HEADER 
         * Equivalent to: text-3xl font-bold text-gray-800 mb-6 text-center
         */
        .header {
            font-size: 1.875rem; 
            font-weight: 700; 
            color: #1f2937; 
            margin-bottom: 1.5rem; 
            text-align: center;
        }

        /* * SLIDESHOW CONTAINER 
         * Equivalent to: rounded-xl overflow-hidden shadow-2xl bg-gray-900
         */
        .slideshow-box {
            position: relative;
            /* Using CSS variable to dynamically set the aspect ratio. Default is 16/9. */
            aspect-ratio: var(--slide-ratio, 16 / 9); 
            max-height: 80vh;
            /* Smooth transition for the container size change */
            transition: aspect-ratio 0.5s ease-in-out; 
            
            /* Aesthetic Styling */
            border-radius: 0.75rem; 
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            background-color: #1f2937;
        }
        
        .slides-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* * IMAGE STYLING 
         */
        .slide-image {
            /* Positioning */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            
            /* Fade and slow zoom animation */
            transition: opacity 1s ease-in-out, transform 4s ease-in-out;
            opacity: 0;
            transform: scale(1.05); /* Start slightly zoomed for the 'zoom-out' effect */
            display: block;
        }

        .slide-image.active {
            opacity: 1;
            transform: scale(1.00); /* Zoom back to normal size over 4s */
        }
        
        /* * DOWNLOAD BUTTON STYLES
         */
        .download-container {
            text-align: center;
            margin-top: 2rem; /* mt-8 */
        }
        
        /* Equivalent to the indigo button classes */
        .download-button {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem; /* px-6 py-3 */
            border: 1px solid transparent; 
            font-size: 1rem; 
            font-weight: 500; 
            border-radius: 0.375rem; 
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); /* shadow-lg */
            color: white;
            background-color: #4f46e5; /* bg-indigo-600 */
            text-decoration: none;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
        }

        .download-button:hover {
            background-color: #4338ca; /* hover:bg-indigo-700 */
            transform: scale(1.05); /* transform hover:scale-105 */
        }
        
        .download-button svg {
            margin-right: 0.5rem;
        }
    </style>
</head>
<body class="font-sans">

    <div class="container">
        <!-- Header -->
        <h1 class="header">NandooseeeðŸ’ž</h1>

        <!-- Slideshow Container -->
        <div id="slideshow" class="slider-container slideshow-box">
            
            <!-- Slides (Dynamically populated by JS) -->
            <div id="slides-wrapper" class="slides-wrapper">
                <!-- Image elements will be inserted here by JavaScript -->
            </div>

        </div>

        <!-- Download Button Added Here -->
        <div class="download-container">
            <a 
                href="./download.zip" 
                download
                class="download-button"
            >
                <!-- Inline SVG for a clean download icon (Lucide icon) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/>
                </svg>
                Download Full Gallery Zip
            </a>
        </div>
        
    </div>

    <script>
        const SLIDES = [
            { url: './images/1.JPG', caption: 'Image 1' },
            { url: './images/2.JPG', caption: 'Image 2' },
            { url: './images/3.JPG', caption: 'Image 3' },
            { url: './images/4.JPG', caption: 'Image 4' },
            { url: './images/5.JPG', caption: 'Image 5' },
            { url: './images/6.JPG', caption: 'Image 6' },
            { url: './images/7.JPG', caption: 'Image 7' },
            { url: './images/8.JPG', caption: 'Image 8' },
            { url: './images/9.JPG', caption: 'Image 9' },
            { url: './images/10.JPG', caption: 'Image 10' },
            { url: './images/11.JPG', caption: 'Image 11' },
            { url: './images/12.JPG', caption: 'Image 12' },
            { url: './images/13.JPG', caption: 'Image 13' },
            { url: './images/14.JPG', caption: 'Image 14' },
            { url: './images/15.JPG', caption: 'Image 15' },
            { url: './images/16.JPG', caption: 'Image 16' },
            { url: './images/17.JPG', caption: 'Image 17' },
            { url: './images/18.JPG', caption: 'Image 18' },
            { url: './images/19.JPG', caption: 'Image 19' },
            { url: './images/20.JPG', caption: 'Image 20' } 
        ];

        let currentSlideIndex = 0;
        let autoplayInterval;
        const intervalTime = 4000; // 4 seconds 

        const slidesWrapper = document.getElementById('slides-wrapper');
        const sliderContainer = document.getElementById('slideshow');
        
        // Removed reference to captionElement

        /**
         * Renders the HTML for the slide images.
         */
        function renderSlides() {
            SLIDES.forEach((slide, index) => {
                // Create Image Element
                const img = document.createElement('img');
                img.src = slide.url;
                img.alt = slide.caption;
                // Use custom CSS classes defined in the <style> block
                img.classList.add('slide-image'); 
                img.dataset.index = index;
                // Add a fallback for image loading errors
                img.onerror = function() {
                    console.error(`Error loading image: ${slide.url}`);
                    this.src = 'https://placehold.co/1280x720/6b7280/ffffff?text=Image+Missing';
                    // Use a default ratio if image fails to load
                    slide.ratio = 16 / 9; 
                };
                slidesWrapper.appendChild(img);
            });
        }

        /**
         * Updates the UI to show the specified slide with animation.
         * @param {number} index - The index of the slide to display.
         */
        function showSlide(index) {
            currentSlideIndex = (index + SLIDES.length) % SLIDES.length;

            const allImages = slidesWrapper.querySelectorAll('.slide-image');
            const activeSlide = SLIDES[currentSlideIndex];

            // 1. Dynamically update the container's aspect ratio (frame size)
            // The aspect-ratio is set to 16/9 if the ratio property is missing (e.g., if loading failed)
            sliderContainer.style.setProperty('--slide-ratio', `${activeSlide.ratio || (16 / 9)}`);

            // 2. Update Images and Animation
            allImages.forEach(img => {
                const isActive = parseInt(img.dataset.index) === currentSlideIndex;
                img.classList.remove('active');
                if (isActive) {
                    // Force a reflow before adding 'active' to ensure CSS transition runs
                    void img.offsetWidth; 
                    img.classList.add('active');
                }
            });

            // Removed: Caption update logic
        }

        /**
         * Navigation function for the autoplay loop
         */
        function nextSlide() {
            showSlide(currentSlideIndex + 1);
        }

        /**
         * Autoplay control
         */
        function startAutoplay() {
            if (!autoplayInterval) {
                // Set interval to change slides automatically
                autoplayInterval = setInterval(nextSlide, intervalTime);
            }
        }

        /**
         * Preloads images and calculates their natural aspect ratio (width / height).
         * @returns {Promise<void>}
         */
        function loadImagesAndGetRatios() {
            const ratioPromises = SLIDES.map((slide) => {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => {
                        // Calculate and store ratio directly in the slide object
                        slide.ratio = img.naturalWidth / img.naturalHeight;
                        resolve();
                    };
                    img.onerror = () => {
                        // Fallback to a default ratio (16:9) if image fails to load
                        slide.ratio = 16 / 9; 
                        resolve();
                    };
                    img.src = slide.url;
                });
            });

            return Promise.all(ratioPromises);
        }


        /**
         * Initialization
         */
        function initSlider() {
            if (SLIDES.length === 0) return;

            // Wait for all image ratios to be calculated before starting the slideshow
            loadImagesAndGetRatios().then(() => {
                renderSlides();
                showSlide(currentSlideIndex);
                startAutoplay();
            });
        }

        window.onload = initSlider;
    </script>
</body>
</html>
